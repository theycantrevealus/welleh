/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
export default class o{constructor(_0x19a29e,_0x469836){this['_customCallbacks']=[],this['_itemLabels']=new Map(),this['_schema']=_0x19a29e,this['locale']=_0x469836;}['getDescriptions'](_0x24ecce){const _0x4fe84a=[];for(let _0xa8ad21=0x0;_0xa8ad21<_0x24ecce['length'];_0xa8ad21++){const _0x504b5c=_0x24ecce[_0xa8ad21];let _0x2dd56e=!0x1;for(const _0x458ef8 of this['_customCallbacks']){const _0xf93e11=_0x458ef8(_0x504b5c);if(_0xf93e11){_0x4fe84a['push'](_0xf93e11),_0x2dd56e=!0x0;break;}}if(!_0x2dd56e){this['_addDescriptionItems'](_0x4fe84a,_0x504b5c);const _0x448f4d=_0x24ecce[_0xa8ad21+0x1];if(_0x448f4d&&!_0x504b5c['getFirstRange']()['end']['isEqual'](_0x448f4d['getFirstRange']()['start'])){const _0x4643c0=_0x4fe84a[_0x4fe84a['length']-0x1],_0x18ab45='insertion'==_0x504b5c['type']?'add':'remove';_0x4643c0&&'text'==_0x4643c0['type']&&(_0x4643c0[_0x18ab45]+='\x0a');}}}return this['_resolveDescriptionItems'](_0x4fe84a);}['registerDescriptionCallback'](_0x3f920e){this['_customCallbacks']['push'](_0x3f920e);}['registerElementLabel'](_0x104277,_0x3bcfa9){this['_itemLabels']['set'](_0x104277,_0x3bcfa9);}['getItemLabel'](_0x1be900,_0x1aaea5=0x1){const _0x339855=this['_itemLabels']['get'](_0x1be900)||_0x1be900;return'function'==typeof _0x339855?_0x339855(_0x1aaea5):0x1!==_0x1aaea5?_0x1aaea5+'\x20'+_0x339855+'s':''+_0x339855;}['_addDescriptionItems'](_0x2f7d93,_0x5edbde){const _0x2a7974=_0x5edbde['getFirstRange']()['getWalker'](),_0xefc04d='insertion'==_0x5edbde['type']?'add':'remove';for(const _0x417911 of _0x2a7974){const _0x1f5106=_0x417911['item'],_0x5cd923=_0x2f7d93[_0x2f7d93['length']-0x1];if(_0x1f5106['is']('textProxy'))_0x5cd923&&_0x5cd923['type']['indexOf']('Container')>-0x1&&_0x2f7d93['pop'](),_0x5cd923&&'text'==_0x5cd923['type']?_0x5cd923[_0xefc04d]+=_0x1f5106['data']:_0x2f7d93['push']({'type':'text','add':'add'==_0xefc04d?_0x1f5106['data']:'','remove':'remove'==_0xefc04d?_0x1f5106['data']:''});else{if(this['_schema']['isObject'](_0x1f5106)){if(_0x5cd923&&_0x5cd923['type']['indexOf']('Container')>-0x1&&_0x2f7d93['pop'](),'elementEnd'==_0x417911['type'])continue;_0x5cd923&&_0x5cd923['type']==_0xefc04d+'Object'&&_0x5cd923['name']==_0x1f5106['name']?_0x5cd923['quantity']++:_0x2f7d93['push']({'type':_0xefc04d+'Object','name':_0x1f5106['name'],'quantity':0x1}),_0x2a7974['skip'](_0x736b89=>!('elementEnd'==_0x736b89['type']&&_0x736b89['item']==_0x1f5106));}else{if(this['_schema']['checkChild'](_0x1f5106,'$text')||_0x1f5106['is']('element','softBreak')){if('add'==_0xefc04d&&'elementStart'==_0x417911['type']||'remove'==_0xefc04d&&'elementEnd'==_0x417911['type'])continue;if(_0x5cd923&&-0x1==_0x5cd923['type']['indexOf']('Container')){'text'==_0x5cd923['type']&&(_0x5cd923[_0xefc04d]+='\x0a');continue;}let _0x3a4a3b;if(_0x3a4a3b='add'==_0xefc04d?_0x1f5106['nextSibling']&&!this['_schema']['isObject'](_0x1f5106['nextSibling'])?_0x1f5106['nextSibling']:null:_0x1f5106['previousSibling']&&!this['_schema']['isObject'](_0x1f5106['previousSibling'])?_0x1f5106['previousSibling']:null,_0x1f5106['isEmpty']||_0x3a4a3b&&_0x3a4a3b['isEmpty']){const _0x1bd837=_0x3a4a3b&&_0x3a4a3b['isEmpty']?_0x3a4a3b['name']:_0x1f5106['name'];_0x5cd923&&_0x5cd923['type']==_0xefc04d+'EmptyContainer'&&_0x5cd923['name']==_0x1bd837?_0x5cd923['quantity']++:_0x2f7d93['push']({'type':_0xefc04d+'EmptyContainer','name':_0x1bd837,'quantity':0x1});}else _0x2f7d93['push']({'type':_0xefc04d+'Container','name':_0x1f5106['name']});}}}}}['_resolveDescriptionItems'](_0x2ca757){const {t:t}=this['locale'],_0x5586e5=[];for(const _0x652025 of _0x2ca757){switch(_0x652025['type']){case'text':if(_0x652025['add']=_0x652025['add']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),_0x652025['remove']=_0x652025['remove']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),''!=_0x652025['add']&&''!=_0x652025['remove']){_0x5586e5['push']({'type':'replace','content':t({'string':'*Replace:*\x20%0\x20*with*\x20%1','id':'REPLACE_TEXT'},['\x22'+_0x652025['remove']+'\x22','\x22'+_0x652025['add']+'\x22'])});continue;}if(null!=_0x652025['add']['match'](/^ +$/)){_0x5586e5['push']({'type':'insertion','content':t('*Insert:*\x20%0',t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0x652025['add']['length']))});continue;}if(null!=_0x652025['remove']['match'](/^ +$/)){_0x5586e5['push']({'type':'deletion','content':t('*Remove:*\x20%0',t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0x652025['remove']['length']))});continue;}if(''!=_0x652025['add']){_0x5586e5['push']({'type':'insertion','content':t('*Insert:*\x20%0','\x22'+_0x652025['add']+'\x22')});continue;}_0x5586e5['push']({'type':'deletion','content':t('*Remove:*\x20%0','\x22'+_0x652025['remove']+'\x22')});continue;case'addEmptyContainer':case'addObject':_0x5586e5['push']({'type':'insertion','content':t('*Insert:*\x20%0',this['getItemLabel'](_0x652025['name'],_0x652025['quantity']))});continue;case'removeEmptyContainer':case'removeObject':_0x5586e5['push']({'type':'deletion','content':t('*Remove:*\x20%0',this['getItemLabel'](_0x652025['name'],_0x652025['quantity']))});continue;case'addContainer':_0x5586e5['push']({'type':'insertion','content':t('*Split:*\x20%0',this['getItemLabel'](_0x652025['name'],_0x652025['quantity']))});continue;case'removeContainer':_0x5586e5['push']({'type':'deletion','content':t('*Merge:*\x20%0',this['getItemLabel'](_0x652025['name'],_0x652025['quantity']))});continue;}_0x5586e5['push'](_0x652025);}return _0x5586e5;}}