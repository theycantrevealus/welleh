/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import $t from'./basesuggestionthreadview';import ti from'@ckeditor/ckeditor5-collaboration-core/src/users/view/userview';import _0x3de748 from'@ckeditor/ckeditor5-ui/src/button/buttonview';import _0x269a92 from'@ckeditor/ckeditor5-core/theme/icons/check.svg';import _0x4b804f from'@ckeditor/ckeditor5-core/theme/icons/cancel.svg';import _0x17888c from'@ckeditor/ckeditor5-comments/src/utils/trim-html';export default class bt extends $t{constructor(_0x3cdf3b,_0x322c6e,_0x449149,_0x16298b){super(_0x3cdf3b,_0x322c6e,_0x449149,_0x16298b);const {t:t}=_0x3cdf3b;this['set']('type',''),this['bind']('type')['to'](this,'descriptionParts',_0x26b9f1=>_0x26b9f1&&_0x26b9f1[0x0]?_0x26b9f1[0x0]['type']:''),this['bind']('description')['to'](this,'descriptionParts',this,'isActive',(_0x3565ca,_0x59f746)=>{let _0x12dffd='';for(const _0x799b9d of _0x3565ca)_0x12dffd+='<p>'+ci(_0x799b9d['content'])+'</p>';return _0x59f746?_0x12dffd:_0x17888c(_0x12dffd,{'limit':0x8c});}),this['_descriptionElement']=null,this['acceptButton']=this['_createButton'](t('Accept\x20suggestion'),_0x269a92,'ck-suggestion--accept','acceptSuggestion'),this['discardButton']=this['_createButton'](t('Discard\x20suggestion'),_0x4b804f,'ck-suggestion--discard','discardSuggestion'),this['userView']=new ti(_0x3cdf3b,this['_model']['author']),this['userView']['extendTemplate']({'attributes':{'class':['ck-suggestion__user','ck-annotation__user']}}),this['setTemplate'](this['_getTemplate']());}['_getTemplate'](){const _0x4f08d9=this['bindTemplate'];return{'tag':'div','attributes':{'class':['ck-suggestion-wrapper',_0x4f08d9['if']('isActive','ck-suggestion-wrapper--active'),_0x4f08d9['to']('type',_0x33916b=>'ck-suggestion-'+_0x33916b)],'data-suggestion-id':this['_model']['id'],'data-thread-id':this['_model']['commentThread']['id'],'data-author-id':this['_model']['author']['id'],'tabindex':-0x1},'children':[{'tag':'div','attributes':{'class':['ck-suggestion','ck-annotation']},'children':[this['userView'],{'tag':'div','attributes':{'class':['ck-suggestion__main','ck-annotation__main']},'children':[{'tag':'div','attributes':{'class':['ck-suggestion__info','ck-annotation__info']},'children':[{'tag':'span','children':[{'text':this['userView']['name']}],'attributes':{'class':['ck-suggestion__info-name','ck-annotation__info-name']}},{'tag':'time','attributes':{'datetime':_0x4f08d9['to']('createdAt'),'class':['ck-comment__info-time','ck-annotation__info-time']},'children':[{'text':_0x4f08d9['to']('createdAt',_0x18a2cc=>this['_config']['formatDateTime'](_0x18a2cc))}]}]},{'tag':'div','attributes':{'class':['ck-suggestion__actions','ck-annotation__actions']},'children':[this['acceptButton'],this['discardButton']]},{'tag':'div','attributes':{'class':['ck-annotation__content-wrapper']}}]}]},this['commentsListView'],this['commentThreadInputView']]};}['render'](){super['render'](),this['_descriptionElement']=this['element']['querySelector']('.ck-annotation__content-wrapper'),this['_descriptionElement']['innerHTML']=this['description'],this['on']('change:description',(_0x3fb2a2,_0x5c8c60,_0x585704)=>{this['_descriptionElement']['innerHTML']=_0x585704;});}['_createButton'](_0xd2c49d,_0x1cca5c,_0x204d09,_0x2da6c4){const _0x3df8d0=new _0x3de748(this['locale']);return _0x3df8d0['set']({'label':_0xd2c49d,'icon':_0x1cca5c,'tooltip':!0x0}),_0x3df8d0['extendTemplate']({'attributes':{'class':_0x204d09}}),_0x3df8d0['on']('execute',()=>{this['fire'](_0x2da6c4,this['_model']['id']);}),_0x3df8d0['bind']('isEnabled')['to'](this),_0x3df8d0;}}function ci(_0x109c30){let _0x219156='';return _0x219156+=_0x109c30['split']('*')['map']((_0x210deb,_0x5690de)=>_0x5690de%0x2!=0x0?'<span\x20class=\x22ck-suggestion-type\x22>'+oi(_0x210deb)+'</span>':oi(_0x210deb))['join'](''),_0x219156;}function oi(_0x5dcb67){const _0x21ee89=document['createElement']('span');return _0x21ee89['innerText']=_0x5dcb67,_0x21ee89['innerHTML'];}