/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x264c5e from'@ckeditor/ckeditor5-core/src/plugin';import _0x56677b from'@ckeditor/ckeditor5-engine/src/model/treewalker';export default class G extends _0x264c5e{['afterInit'](){const _0x5c1ab9=this['editor'],{t:t}=_0x5c1ab9['locale'];if(!_0x5c1ab9['plugins']['has']('BlockQuoteEditing'))return;const _0x1d1658=_0x5c1ab9['plugins']['get']('TrackChangesEditing'),_0x13a28d=this['editor']['commands']['get']('blockQuote');_0x1d1658['enableCommand']('blockQuote',(_0x358a1c,_0x5976a2={})=>{const _0x30e1b4=this['editor']['model']['document']['selection'],_0x28e906=_0x5976a2&&void 0x0!==_0x5976a2['forceValue']?_0x5976a2['forceValue']:!_0x13a28d['value'];let _0xd6f805=[];if(_0x28e906){const _0x513ff2=Array['from'](_0x30e1b4['getSelectedBlocks']())['filter'](_0x29ddcb=>Qt(_0x29ddcb)||function(_0x886a38,_0x578ff5){const _0x3649f5=_0x578ff5['checkChild'](_0x886a38['parent'],'blockQuote'),_0xc008cb=_0x578ff5['checkChild'](['$root','blockQuote'],_0x886a38);return _0x3649f5&&_0xc008cb;}(_0x29ddcb,this['editor']['model']['schema']));_0xd6f805=Bt(_0x513ff2,_0x5c1ab9['model']);}else{const _0x30298b=Array['from'](_0x30e1b4['getSelectedBlocks']())['filter'](_0x2044f5=>Qt(_0x2044f5));_0xd6f805=Bt(_0x30298b,_0x5c1ab9['model']);}_0x5c1ab9['model']['change'](()=>{for(const _0x3f7237 of _0xd6f805)_0x1d1658['markBlockFormat'](_0x3f7237,{'commandName':'blockQuote','commandParams':[{'forceValue':_0x28e906}]});});}),_0x1d1658['_descriptionFactory']['registerDescriptionCallback'](_0x666ab4=>{const {data:_0x764872}=_0x666ab4;if(_0x764872&&'blockQuote'==_0x764872['commandName']){const _0x9240a0=t({'string':'block\x20quote','id':'ELEMENT_BLOCK_QUOTE'});return _0x764872['commandParams'][0x0]['forceValue']?{'type':'format','content':t('*Format:*\x20%0',_0x9240a0)}:{'type':'format','content':t('*Remove\x20format:*\x20%0',_0x9240a0)};}});}}function Qt(_0x181d81){return'blockQuote'==_0x181d81['parent']['name'];}function Bt(_0x46526e,_0x1f47a0){let _0x591b79,_0x5002e8=0x0;const _0x3c28d5=[],_0x166186=_0x1f47a0['schema'];for(;_0x5002e8<_0x46526e['length'];){const _0x43a31=_0x46526e[_0x5002e8],_0x31b684=_0x46526e[_0x5002e8+0x1];_0x591b79||(_0x591b79=_0x1f47a0['createPositionBefore'](_0x43a31)),Lt(_0x1f47a0,_0x43a31,_0x31b684)||(_0x3c28d5['push'](_0x1f47a0['createRange'](_0x591b79,_0x166186['isObject'](_0x43a31)?_0x1f47a0['createPositionAfter'](_0x43a31):_0x1f47a0['createPositionAt'](_0x43a31,'end'))),_0x591b79=null),_0x5002e8++;}return _0x3c28d5;}function Lt(_0xea5622,_0x2ea6eb,_0x1f7c72){if(!_0x1f7c72)return!0x1;const _0xf7d2e=_0xea5622['createPositionAfter'](_0x2ea6eb),_0x5c97c1=_0xea5622['createPositionBefore'](_0x1f7c72),_0x2d0eff=new _0x56677b({'boundaries':_0xea5622['createRange'](_0xf7d2e,_0x5c97c1)});for(const _0x214681 of _0x2d0eff)if('text'==_0x214681['type']||_0xea5622['schema']['isObject'](_0x214681['item']))return!0x1;return!0x0;}