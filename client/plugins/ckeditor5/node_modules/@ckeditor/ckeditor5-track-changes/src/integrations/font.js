/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x20218b from'@ckeditor/ckeditor5-core/src/plugin';import{normalizeColorOptions as Pt}from'@ckeditor/ckeditor5-ui/src/colorgrid/utils';import{normalizeOptions as _t}from'@ckeditor/ckeditor5-font/src/fontsize/utils';import{getRangesWithAttribute as Rt}from'./utils';const Gt=[{'pluginName':'FontSizeEditing','commandName':'fontSize'},{'pluginName':'FontFamilyEditing','commandName':'fontFamily'},{'pluginName':'FontColorEditing','commandName':'fontColor'},{'pluginName':'FontBackgroundColorEditing','commandName':'fontBackgroundColor'}];export default class z extends _0x20218b{['afterInit'](){const {t:t}=this['editor']['locale'];for(const {pluginName:_0x154572,commandName:_0x37cb33}of Gt)this['editor']['plugins']['has'](_0x154572)&&this['_enableCommand'](_0x37cb33);this['editor']['plugins']['get']('TrackChangesEditing')['_descriptionFactory']['registerDescriptionCallback'](_0x2b8871=>{const {data:_0x262d9f}=_0x2b8871;if(null!=_0x262d9f){if('fontSize'==_0x262d9f['commandName']){const _0x5eee7e=_0x262d9f['commandParams'][0x0]['value'];if(_0x5eee7e){const _0x37994f=_t(this['editor']['config']['get']('fontSize.options'))['find'](_0x41a46d=>_0x41a46d['model']==_0x5eee7e)['title'],_0x1dd9b2=this['editor']['locale']['_t'](_0x37994f)['toLowerCase']();return{'type':'format','content':t('*Set\x20font\x20size:*\x20%0',_0x1dd9b2)};}return{'type':'format','content':t('*Reset\x20font\x20size*')};}if('fontFamily'==_0x262d9f['commandName']){const _0x279ad7=_0x262d9f['commandParams'][0x0]['value'];return _0x279ad7?{'type':'format','content':t('*Set\x20font\x20family:*\x20%0',_0x279ad7)}:{'type':'format','content':t('*Reset\x20font\x20family*')};}if('fontColor'==_0x262d9f['commandName']){const _0x47ec4f=_0x262d9f['commandParams'][0x0]['value'];if(_0x47ec4f){const _0x449fae=Pt(this['editor']['config']['get']('fontColor.colors'))['find'](_0x5638eb=>_0x5638eb['model']==_0x47ec4f)['label'],_0xba0b52=this['editor']['locale']['_t'](_0x449fae)['toLowerCase']();return{'type':'format','content':t('*Set\x20font\x20color:*\x20%0',_0xba0b52)};}return{'type':'format','content':t('*Reset\x20font\x20color*')};}if('fontBackgroundColor'==_0x262d9f['commandName']){const _0x55610a=_0x262d9f['commandParams'][0x0]['value'];if(_0x55610a){const _0x1b4335=Pt(this['editor']['config']['get']('fontBackgroundColor.colors'))['find'](_0x493bf5=>_0x493bf5['model']==_0x55610a)['label'],_0x3f5e5c=this['editor']['locale']['_t'](_0x1b4335)['toLowerCase']();return{'type':'format','content':t('*Set\x20font\x20background\x20color:*\x20%0',_0x3f5e5c)};}return{'type':'format','content':t('*Reset\x20font\x20background\x20color*')};}}});}['_enableCommand'](_0x411927){const _0x4a53c8=this['editor'];_0x4a53c8['plugins']['get']('TrackChangesEditing')['enableCommand'](_0x411927,(_0x1219d5,_0x218055={})=>{const _0x53b848=_0x4a53c8['model']['document']['selection'],_0x3a606a=_0x218055['value'];_0x53b848['isCollapsed']?_0x1219d5(_0x218055):_0x4a53c8['model']['change'](()=>{const _0x3d51da=Array['from'](_0x53b848['getRanges']());for(const _0x4bb533 of _0x3d51da){const _0x41d645=_0x3a606a?[_0x4bb533]:Rt(_0x411927,_0x4bb533,_0x4a53c8['model']);for(const _0x287cc4 of _0x41d645)_0x4a53c8['plugins']['get']('TrackChangesEditing')['markInlineFormat'](_0x287cc4,{'commandName':_0x411927,'commandParams':[{'value':_0x3a606a}]});}});});}}