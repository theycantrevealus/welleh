/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x2645a4 from'@ckeditor/ckeditor5-core/src/plugin';import{getElementsAffectedByListItemRename as _0x4a4327}from'./utils';export default class J extends _0x2645a4{['afterInit'](){const _0x103a18=this['editor'],{t:t}=_0x103a18['locale'],_0x2f2977=_0x103a18['config']['get']('heading.options');if(!_0x103a18['plugins']['has']('HeadingEditing'))return;const _0x2080ad=_0x103a18['plugins']['get']('TrackChangesEditing');_0x2080ad['enableCommand']('heading',(_0x6e388,_0x2a9776)=>{const _0x550d24=_0x2a9776['value'],_0x5d32ee=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']())['filter'](_0x1421e4=>function(_0xd39f0a,_0x5e2054,_0x45b11f){return _0x45b11f['checkChild'](_0xd39f0a['parent'],_0x5e2054)&&!_0x45b11f['isObject'](_0xd39f0a)&&_0xd39f0a['name']!=_0x5e2054;}(_0x1421e4,_0x550d24,this['editor']['model']['schema']));_0x103a18['model']['change'](()=>{for(const _0x1919cf of _0x5d32ee)_0x2080ad['markBlockFormat'](_0x1919cf,{'commandName':'heading','commandParams':[_0x2a9776],'formatGroupId':'blockName'},_0x4a4327(_0x1919cf));});});for(const _0x2fc8e2 of _0x2f2977)'paragraph'!=_0x2fc8e2['model']&&_0x2080ad['_descriptionFactory']['registerElementLabel'](_0x2fc8e2['model'],_0x37f5de=>{const _0x62ccab=tn(_0x2fc8e2['model']);return null!==_0x62ccab?_0x4fae66(_0x37f5de,_0x62ccab):_0x1def36(_0x37f5de,_0x2fc8e2['title']);});function _0x4fae66(_0x208b7d,_0x1bbf74){return t({'string':'heading\x20(level\x20%1)','plural':'%0\x20headings\x20(level\x20%1)','id':'ELEMENT_HEADING'},[_0x208b7d,_0x1bbf74]);}function _0x1def36(_0x143ab7,_0x3a4729){return t({'string':'heading\x20(%1)','plural':'%0\x20headings\x20(%1)','id':'ELEMENT_HEADING_CUSTOM'},[_0x143ab7,_0x3a4729]);}_0x2080ad['_descriptionFactory']['registerDescriptionCallback'](_0x347e69=>{const {type:_0xbf70dc,data:_0xa3814e}=_0x347e69;if('formatBlock'==_0xbf70dc&&'heading'==_0xa3814e['commandName']){const _0xf32a20=_0xa3814e['commandParams'][0x0]['value'],_0x507795=tn(_0xf32a20);if(null!==_0x507795)return{'type':'format','content':t('*Change\x20to:*\x20%0',_0x4fae66(0x1,_0x507795))};const _0x34191b=_0x2f2977['find'](_0x5e698b=>_0x5e698b['model']===_0xf32a20)['title'];return{'type':'format','content':t('*Change\x20to:*\x20%0',_0x1def36(0x1,_0x34191b))};}});}}function tn(_0x48c4f5){const _0x38e6c0=_0x48c4f5['match'](/^heading(\d+)$/);return _0x38e6c0?_0x38e6c0[0x1]:null;}