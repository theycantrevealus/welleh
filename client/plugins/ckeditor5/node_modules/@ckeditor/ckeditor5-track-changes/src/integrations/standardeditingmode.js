/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x5516ad from'@ckeditor/ckeditor5-core/src/plugin';import{getRangesWithAttribute as Rt}from'./utils';export default class ht extends _0x5516ad{['afterInit'](){const _0x112579=this['editor'],_0x112483=_0x112579['model'];if(!_0x112579['plugins']['has']('StandardEditingModeEditing'))return;const _0x39e8c2=_0x112579['plugins']['get']('TrackChangesEditing'),_0x38e6c3='restrictedEditingException',_0x58d167=_0x112579['commands']['get'](_0x38e6c3);_0x39e8c2['enableCommand'](_0x38e6c3,(_0x586ef9,_0x103193={})=>{const _0x1a83f3=_0x112483['document']['selection'];if(_0x1a83f3['isCollapsed'])return void _0x586ef9(_0x103193);const _0xac950c=void 0x0!==_0x103193['forceValue']?_0x103193['forceValue']:!_0x58d167['value'];_0x112483['change'](()=>{const _0x30dc8e=Array['from'](_0x1a83f3['getRanges']());for(const _0x37443b of _0x30dc8e){const _0x54ddb9=_0xac950c?[_0x37443b]:Rt(_0x38e6c3,_0x37443b,_0x112483);for(const _0x52431d of _0x54ddb9)_0x39e8c2['markInlineFormat'](_0x52431d,{'commandName':_0x38e6c3,'commandParams':[{'forceValue':_0xac950c}]});}});});const t=_0x112579['t'];_0x39e8c2['_descriptionFactory']['registerDescriptionCallback'](_0x3ed716=>{const {data:_0x512483}=_0x3ed716;if(_0x512483&&_0x512483['commandName']==_0x38e6c3)return _0x512483['commandParams'][0x0]['forceValue']?{'type':'format','content':t({'string':'*Enable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_ENABLED'})}:{'type':'format','content':t({'string':'*Disable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_DISABLED'})};});}}