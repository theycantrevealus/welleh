/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x589fcf from'@ckeditor/ckeditor5-core/src/plugin';export default class tt extends _0x589fcf{['afterInit'](){const _0x2c625f=this['editor'];if(!_0x2c625f['plugins']['has']('ListEditing'))return;const _0x107d72=_0x2c625f['plugins']['get']('TrackChangesEditing'),_0x35008f=_0x2c625f['plugins']['has']('TodoListEditing');function _0x432110(_0x4b3413){return()=>{const _0x493102=_0x2c625f['model']['document']['selection'];if(_0x2c625f['commands']['get'](_0x4b3413)['value'])return void _0x2c625f['execute']('paragraph',{});const _0x145c94=_0x4b3413['slice'](0x0,-0x4),_0x14f1ab=function(_0x3a9f79,_0x5b1f16,_0x5e52f1){let _0x484e87=Array['from'](_0x3a9f79)['filter'](_0xdd9a86=>function(_0x579498,_0x2bed0e){return _0x2bed0e['checkChild'](_0x579498['parent'],'listItem')&&!_0x2bed0e['isObject'](_0x579498);}(_0xdd9a86,_0x5e52f1));_0x484e87=_0x484e87['filter'](_0x1d894a=>!_0x1d894a['is']('element','listItem')||_0x1d894a['getAttribute']('listType')!=_0x5b1f16);const _0x11155e=new Set();for(const _0x2ce8ff of _0x484e87)_0x2ce8ff['is']('element','listItem')?_0x11155e['add'](Mt(_0x2ce8ff)):_0x11155e['add'](_0x2ce8ff);return Array['from'](_0x11155e);}(_0x493102['getSelectedBlocks'](),_0x145c94,_0x2c625f['model']['schema']);_0x2c625f['model']['change'](()=>{for(const _0x222a4c of _0x14f1ab)_0x107d72['markBlockFormat'](_0x222a4c,{'commandName':_0x4b3413,'commandParams':[],'formatGroupId':'blockName'},Vt(_0x222a4c));});};}function _0x453996(_0x4d2f09){return()=>{const _0x215dc3=function(_0x197ba9){const _0x37cc83=(_0x197ba9=Array['from'](_0x197ba9))['findIndex'](_0x220248=>'listItem'!=_0x220248['name']);return _0x37cc83>-0x1&&(_0x197ba9=_0x197ba9['slice'](0x0,_0x37cc83)),_0x197ba9;}(_0x2c625f['model']['document']['selection']['getSelectedBlocks']()),_0x40aadf=_0x2c625f['model']['createRange'](_0x2c625f['model']['createPositionAt'](_0x215dc3[0x0],'before'),_0x2c625f['model']['createPositionAt'](_0x215dc3[_0x215dc3['length']-0x1],'end'));_0x2c625f['model']['change'](()=>{_0x107d72['markBlockFormat'](_0x40aadf,{'commandName':_0x4d2f09,'commandParams':[],'formatGroupId':'listIndent'},function(_0x527268){const _0x49f33d=new Set();for(const _0x21a827 of _0x527268){let _0x52123d=_0x21a827['nextSibling'];for(;_0x52123d&&_0x52123d['getAttribute']('listIndent')>_0x21a827['getAttribute']('listIndent');)_0x49f33d['add'](_0x52123d),_0x52123d=_0x52123d['nextSibling'];}return Array['from'](_0x49f33d);}(_0x215dc3));});};}_0x107d72['enableCommand']('numberedList',_0x432110('numberedList')),_0x107d72['enableCommand']('bulletedList',_0x432110('bulletedList')),_0x35008f&&_0x107d72['enableCommand']('todoList',_0x432110('todoList')),_0x107d72['enableCommand']('indentList',_0x453996('indentList')),_0x107d72['enableCommand']('outdentList',_0x453996('outdentList')),_0x35008f&&_0x107d72['enableCommand']('todoListCheck',()=>{const _0x5e1973=_0x2c625f['commands']['get']('todoListCheck'),_0x367d91=Array['from'](_0x5e1973['_selectedElements']);_0x367d91['filter'](_0x407d4f=>_0x407d4f['getAttribute']('todoListChecked')!=_0x5e1973['value']),_0x2c625f['model']['change'](()=>{for(const _0x3549f1 of _0x367d91)_0x107d72['markBlockFormat'](_0x3549f1,{'commandName':'todoListCheck','commandParams':[{'forceValue':!_0x5e1973['value']}]});});});const {t:t}=_0x2c625f['locale'];_0x107d72['_descriptionFactory']['registerElementLabel']('listItem',_0x489eef=>t({'string':'list\x20item','plural':'%0\x20list\x20items','id':'ELEMENT_LIST_ITEM'},_0x489eef)),_0x107d72['_descriptionFactory']['registerDescriptionCallback'](_0x3081d4=>{const {data:_0xda175a}=_0x3081d4;if(_0xda175a){if('numberedList'==_0xda175a['commandName']||'bulletedList'==_0xda175a['commandName']||'todoList'==_0xda175a['commandName'])switch(_0xda175a['commandName']['replace']('List','')){case'bulleted':return _0x2b9985(t({'string':'bulleted\x20list','id':'ELEMENT_BULLETED_LIST'}));case'numbered':return _0x2b9985(t({'string':'numbered\x20list','id':'ELEMENT_NUMBERED_LIST'}));case'todo':return _0x2b9985(t({'string':'to-do\x20list','id':'ELEMENT_TODO_LIST'}));}if('indentList'==_0xda175a['commandName'])return{'type':'format','content':t('*Indent:*\x20%0',t({'string':'list\x20item','id':'ELEMENT_LIST_ITEM'}))};if('outdentList'==_0xda175a['commandName'])return{'type':'format','content':t('*Outdent:*\x20%0',t({'string':'list\x20item','id':'ELEMENT_LIST_ITEM'}))};if('todoListCheck'==_0xda175a['commandName'])return _0xda175a['commandParams'][0x0]['forceValue']?{'type':'format','content':t('*Check\x20item*')}:{'type':'format','content':t('*Uncheck\x20item*')};}function _0x2b9985(_0x240097){return{'type':'format','content':t('*Change\x20to:*\x20%0',_0x240097)};}});}}function Mt(_0x4b6cf8){const _0x411b0b=_0x4b6cf8['getAttribute']('listIndent');if(0x0==_0x411b0b)return _0x4b6cf8;let _0xd7e03e=_0x4b6cf8;for(;_0x4b6cf8['previousSibling']&&_0x4b6cf8['previousSibling']['is']('element','listItem');){const _0x303e3e=_0x4b6cf8['previousSibling']['getAttribute']('listIndent');if(_0x303e3e==_0x411b0b)_0xd7e03e=_0x4b6cf8['previousSibling'];else{if(_0x303e3e<_0x411b0b)break;}_0x4b6cf8=_0x4b6cf8['previousSibling'];}return _0xd7e03e;}function Vt(_0x313b12){const _0x4854f7=[];if(_0x313b12['is']('element','listItem')&&_0x313b12['getAttribute']('listIndent')>0x0){let _0xf2598b=_0x313b12['nextSibling'];for(;_0xf2598b&&'listItem'==_0xf2598b['name']&&_0xf2598b['getAttribute']('listIndent')==_0x313b12['getAttribute']('listIndent');)_0x4854f7['push'](_0xf2598b),_0xf2598b=_0xf2598b['nextSibling'];}return _0x4854f7;}