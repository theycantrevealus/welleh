/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x3160de from'@ckeditor/ckeditor5-core/src/plugin';import{normalizeImageStyles as te}from'@ckeditor/ckeditor5-image/src/imagestyle/utils';import'../../theme/integrations/image.css';export default class V extends _0x3160de{['afterInit'](){const _0x4c367f=this['editor'];if(!_0x4c367f['plugins']['has']('ImageEditing'))return;const _0x23be78=_0x4c367f['plugins']['get']('TrackChangesEditing'),{t:t}=_0x4c367f['locale'];_0x23be78['enableCommand']('imageInsert'),_0x23be78['_descriptionFactory']['registerElementLabel']('image',_0x447f69=>t({'string':'image','plural':'%0\x20images','id':'ELEMENT_IMAGE'},_0x447f69)),_0x4c367f['plugins']['has']('ImageUploadEditing')&&_0x23be78['enableCommand']('imageUpload'),_0x4c367f['plugins']['has']('ImageStyleEditing')&&_0x23be78['enableCommand']('imageStyle',(_0x499d3a,_0x171223)=>{const _0x16cf51=_0x4c367f['commands']['get']('imageStyle'),_0xda10d=_0x4c367f['model']['document']['selection']['getFirstRange']()['start']['nodeAfter'];(_0xda10d['hasAttribute']('imageStyle')?_0xda10d['getAttribute']('imageStyle'):_0x16cf51['defaultStyle'])!=_0x171223['value']&&_0x4c367f['model']['change'](()=>{_0x23be78['markBlockFormat'](_0xda10d,{'commandName':'imageStyle','commandParams':[_0x171223]});});}),_0x4c367f['plugins']['has']('ImageResize')&&_0x23be78['enableCommand']('imageResize',(_0x427d9a,_0x375682)=>{const _0x5973c8=_0x4c367f['model']['document']['selection']['getFirstRange']()['start']['nodeAfter'];_0x5973c8['getAttribute']('width')!=_0x375682['width']&&_0x4c367f['model']['change'](()=>{_0x23be78['markBlockFormat'](_0x5973c8,{'commandName':'imageResize','commandParams':[_0x375682]});});}),_0x4c367f['plugins']['has']('ImageTextAlternativeEditing')&&_0x23be78['enableCommand']('imageTextAlternative',(_0x4ba943,_0x563cc8)=>{const _0x277611=_0x4c367f['model']['document']['selection']['getFirstRange']()['start']['nodeAfter'];(_0x277611['hasAttribute']('alt')?_0x277611['getAttribute']('alt'):'')!=_0x563cc8['newValue']&&_0x4c367f['model']['change'](()=>{_0x23be78['markBlockFormat'](_0x277611,{'commandName':'imageTextAlternative','commandParams':[_0x563cc8]});});});const _0x31d6bd={},_0x12cec8=te(this['editor']['config']['get']('image.styles'));for(const _0x3a54cb of _0x12cec8)_0x31d6bd[_0x3a54cb['name']]=_0x3a54cb['title']['toLowerCase']();_0x23be78['_descriptionFactory']['registerDescriptionCallback'](_0x280c96=>{const {data:_0x1bec89}=_0x280c96;if(_0x1bec89){if('imageStyle'==_0x1bec89['commandName']){const _0xe23ef3=_0x1bec89['commandParams'][0x0]['value'];switch(_0xe23ef3){case'full':return _0x1129cd(t({'string':'full\x20width\x20image','id':'FORMAT_FULL_WIDTH_IMAGE'}));case'side':return _0x1129cd(t({'string':'side\x20image','id':'FORMAT_SIDE_IMAGE'}));default:return _0x1129cd(_0x31d6bd[_0xe23ef3]||_0xe23ef3);}}else{if('imageTextAlternative'==_0x1bec89['commandName']){const _0x126228=_0x1bec89['commandParams'][0x0]['newValue'];return _0x126228?{'type':'format','content':t('*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x126228+'\x22')}:{'type':'format','content':t('*Remove\x20image\x20text\x20alternative*')};}if('imageResize'==_0x1bec89['commandName']){const _0x5ac34d=_0x1bec89['commandParams'][0x0]['width'];return _0x5ac34d?{'type':'format','content':t('*Set\x20image\x20width:*\x20%0',_0x5ac34d)}:{'type':'format','content':t('*Reset\x20image\x20width*')};}}}function _0x1129cd(_0x42c585){return{'type':'format','content':t('*Format:*\x20%0',_0x42c585)};}});}}