/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x114374 from'@ckeditor/ckeditor5-core/src/plugin';import{getElementsAffectedByListItemRename as _0x45e4db}from'./utils';export default class et extends _0x114374{['afterInit'](){const _0x28f3fb=this['editor'];if(!_0x28f3fb['plugins']['has']('Paragraph'))return;const {t:t}=_0x28f3fb['locale'],_0x7ed796=_0x28f3fb['plugins']['get']('TrackChangesEditing');_0x7ed796['_descriptionFactory']['registerElementLabel']('paragraph',_0x3e1439=>t({'string':'paragraph','plural':'%0\x20paragraphs','id':'ELEMENT_PARAGRAPH'},_0x3e1439)),_0x7ed796['enableCommand']('paragraph',(_0x1cd214,_0x2b3f12={})=>{const _0x4c0c2f=_0x28f3fb['model']['document'],_0x5ab733=_0x2b3f12['selection']||_0x4c0c2f['selection'],_0x456672=Array['from'](_0x5ab733['getSelectedBlocks']())['filter'](_0x56ad6f=>function(_0x2a0579,_0x2d2333){return _0x2d2333['checkChild'](_0x2a0579['parent'],'paragraph')&&!_0x2d2333['isObject'](_0x2a0579)&&'paragraph'!=_0x2a0579['name'];}(_0x56ad6f,this['editor']['model']['schema']));_0x28f3fb['model']['change'](()=>{for(const _0x33af56 of _0x456672)_0x7ed796['markBlockFormat'](_0x33af56,{'commandName':'paragraph','commandParams':[],'formatGroupId':'blockName'},_0x45e4db(_0x33af56));});}),_0x7ed796['_descriptionFactory']['registerDescriptionCallback'](_0x4d27ad=>{const {data:_0x336969}=_0x4d27ad;if(_0x336969&&'paragraph'==_0x336969['commandName'])return{'type':'format','content':t('*Change\x20to:*\x20%0',t({'string':'paragraph','plural':'%0\x20paragraphs','id':'ELEMENT_PARAGRAPH'}))};}),_0x7ed796['enableCommand']('insertParagraph'),_0x28f3fb['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x5ddbd5,_0xf2cf11,_0x5c5a58)=>{const _0x3d6ed5=_0xf2cf11['markerRange']['start'],_0x51c046=_0xf2cf11['markerRange']['end'];if(_0x3d6ed5['isTouching'](_0x51c046)&&_0x3d6ed5['nodeAfter']&&_0x3d6ed5['nodeAfter']['is']('element','paragraph')){if(!_0x5c5a58['consumable']['consume'](_0xf2cf11['markerRange'],_0x5ddbd5['name']))return;const _0x55392f=_0x5c5a58['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-split'}),_0xcfa19e=_0x5c5a58['mapper']['toViewPosition'](_0x51c046);_0x7ed796['activeMarkers']['includes'](_0xf2cf11['markerName'])&&_0x5c5a58['writer']['addClass']('ck-suggestion-marker--active',_0x55392f),_0x5c5a58['writer']['insert'](_0xcfa19e,_0x55392f),_0x5c5a58['mapper']['bindElementToMarker'](_0x55392f,_0xf2cf11['markerName']);}},{'priority':'highest'});const _0x4f324c=_0x7ed796['_descriptionFactory'];_0x4f324c['registerDescriptionCallback'](_0x272588=>{const {start:_0x242d2c,end:_0x5674a3}=_0x272588['getFirstRange']();if(_0x242d2c['isTouching'](_0x5674a3)&&_0x242d2c['nodeAfter']&&_0x242d2c['nodeAfter']['is']('element','paragraph')&&'insertion'==_0x272588['type'])return{'type':'insertion','content':t('*Insert:*\x20%0',_0x4f324c['getItemLabel']('paragraph',0x1))};});}}